{% extends 'base.html' %}
{% block content %}
<h1>Startups</h1>
<form method="GET">
    <input type="text" name="q" placeholder="Search startups..." value="{{ request.GET.q }}">
    <select name="sector">
        <option value="">All Sectors</option>
        {% for sector in sectors %}
        <option value="{{ sector.sector_name }}" {% if request.GET.sector == sector.sector_name %}selected{% endif %}>{{ sector.sector_name }}</option>
        {% endfor %}
    </select>
    <button type="submit">Search</button>
</form>
<table>
    <tr>
        <th>Name</th>
        <th>Sector</th>
        <th>Description</th>
        <th>Founder</th>
        <th>Valuation</th>
        <th>Last Year Profit</th>
        <th>Burn Rate</th>
        <th>Contact</th>
        <th>Email</th>
    </tr>
    {% for startup in startups %}
    <tr>
        <td>{{ startup.startup_name }}</td>
        <td>{{ startup.sector }}</td>
        <td>{{ startup.descr }}</td>
        <td>{{ startup.founder }}</td>
        <td>{{ startup.valuation }}</td>
        <td>{{ startup.last_year_profit|default:"N/A" }}</td>
        <td>{{ startup.burn_rate|default:"N/A" }}</td>
        <td>{{ startup.contact_no }}</td>
        <td>{{ startup.email_id }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="9">No startups found.</td></tr>
    {% endfor %}
</table>
{% endblock %}